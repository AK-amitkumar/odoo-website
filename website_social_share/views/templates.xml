<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="website_social_share.prepare" inherit_id="website.layout">
            <xpath expr="//head" position="attributes">
                <t t-if="product">
                    <!-- Open Graph data -->
                    <attribute name="prefix">og: http://ogp.me/ns# 
                    fb: http://ogp.me/ns/fb# 
                    product: http://ogp.me/ns/product#</attribute>
                </t>
            </xpath>
            <xpath expr="//title" position="after">
                <t t-if="product">                
                    <!-- Schema.org markup for Google+ -->
                    <meta itemprop="name" t-att-content="title" />
                    <meta itemprop="description" t-att-content="main_object and 'website_meta_description' in main_object and main_object.website_meta_description or website_meta_description" />
                    <meta itemprop="image" t-att-content="'http://localhost:8080/website/image/product.product/' + str(main_object.id) + '/image'" />

                    <!-- Twitter Card data -->
                    <meta name="twitter:card" content="product" />
                    <meta name="twitter:site" content="username" />
                    <meta name="twitter:creator" content="username" />
                    <meta name="twitter:domain" content="http://example.com" />
                    <meta name="twitter:title" t-att-content="title" />
                    <meta name="twitter:description" t-att-content="main_object and 'website_meta_description' in main_object and main_object.website_meta_description or website_meta_description" />
                    <meta name="twitter:image" t-att-content="'http://localhost:8080/website/image/product.product/' + str(main_object.id) + '/image'" />
                    <meta name="twitter:image:width" content="600" />
                    <meta name="twitter:image:height" content="600" />
                    <meta name="twitter:label1" content="Color" />
                    <meta name="twitter:data1" content="Rojo" />
                    <meta name="twitter:label2" content="Talla" />
                    <meta name="twitter:data2" content="M" />

                    <!-- Open Graph data -->
                    <meta property="og:type" content="og:product" />
                    <meta property="og:title" t-att-content="title" />
                    <meta property="og:image" t-att-content="'http://localhost:8080/website/image/product.product/' + str(main_object.id) + '/image'" />
                    <meta property="og:description" t-att-content="main_object and 'website_meta_description' in main_object and main_object.website_meta_description or website_meta_description" />
                    <meta property="og:url" content="http://example.com/product" />
                    <meta property="product:plural_title" t-att-content="title" />
                    <meta property="product:price:amount" content="0.20"/>
                    <meta property="product:price:currency" content="EUR"/>
                    <meta property="product:price:amount" content="0.30"/>
                    <meta property="product:price:currency" content="USD"/>
                    
                    <link rel="canonical" t-att-content="'/shop/product/' + str(main_object.id)" />
                </t>
            </xpath>
            <xpath expr="//t[@t-call-assets='website.assets_frontend']" position="after">
                <script type="text/javascript" src="/website_social_share/static/src/js/social-share.js"></script>
            </xpath>
        </template>
    </data>
</openerp>
